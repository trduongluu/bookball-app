<div class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="text-center d-lg-none w-100">
    <button class="navbar-toggler dropdown-toggle" data-target="#navbar-second" data-toggle="collapse" type="button">
      <i class="icon-menu7 mr-2"></i> </button></div>
  <div class="navbar-collapse collapse p-0" id="navbar-second">
    <ul class="nav navbar-nav">
      <li class="nav-item">
        <a class="navbar-nav-link" href="javascript:;" [ngClass]="{'active show': openTab === 1}" (click)="openTab = 1">
          <i class="icon-magazine mr-2"></i>
          Cơ bản </a></li>
      <li class="nav-item">
        <a class="navbar-nav-link" href="javascript:;" [ngClass]="{'active show': openTab === 2}" (click)="openTab = 2">
          <i class="icon-certificate mr-2"></i>Tài liệu </a></li>
    </ul>
  </div>
</div>


<div class="tab-content w-100 overflow-auto">
  <div class="tab-pane fade mt-2" [ngClass]="{'active show': openTab === 1}">
    <form class="form-horizontal" *ngIf="myForm" [formGroup]="myForm" novalidate>
      <div class="card">
        <div class="card-body">
          <fieldset>
            <legend class="font-weight-semibold text-uppercase font-size-sm"> Thông tin cơ bản
            </legend>
            <div class="row">
              <div class="form-group col-md-12">
                <label>Tên gói thầu <span class="text-danger"> * </span>
                </label>
                <input-text class="form-control" placeholder="Tên gói thầu" formControlName="packageBidName">
                </input-text>
                <render-error [data]="myForm.get('packageBidName')"></render-error>
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-6">
                <label>Tên dự án <span class="text-danger"> * </span></label>
                <input-select class="form-control" formControlName="projId" [items]="listProject"
                  [placeholder]="'Lựa chọn'">
                </input-select>
                <render-error [data]="myForm.get('projId')"></render-error>
              </div>
              <div class="form-group col-md-6">
                <label>Trạng thái</label>
                <input-select class="form-control" formControlName="statusId" [items]="listStatus"
                  [placeholder]="'Lựa chọn'">
                </input-select>
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-6">
                <label>Ngày bắt đầu<span class="text-danger"> * </span></label>
                <input-date class="form-control" formControlName="startDay"></input-date>
                <render-error [data]="myForm.get('startDay')"></render-error>
              </div>
              <div class="form-group col-md-6">
                <label>Ngày kết thúc<span class="text-danger"> * </span></label>
                <input-date class="form-control" placeholder="dd/mm/yyyy" formControlName="lastDay"></input-date>
                <render-error [data]="myForm.get('lastDay')"></render-error>
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-6">
                <label>Loại tiền</label>
                <input-select class="form-control" formControlName="currency" [items]="listCurrency"
                  [placeholder]="'Lựa chọn'">
                </input-select>
              </div>
              <div class="form-group col-md-6">
                <label>Tỉ giá</label>
                <input-float formControlName="exchangeRate" class="form-control" [step]="0.01" [placeholder]="'0.00'"
                  [min]="0">
                </input-float>
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-6">
                <label>Giá dự toán</label>
                <input-float formControlName="estimatedPrice" class="form-control" [step]="1000000"
                  [placeholder]="'0.00'" [min]="0">
                </input-float>
              </div>
              <div class="form-group col-md-6">
                <label>Giá gói thầu</label>
                <input-float formControlName="bidPrice" class="form-control" [step]="1000000" [min]="0"
                  [placeholder]="'0.00'">
                </input-float>
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-6">
                <label>Giá trúng thầu</label>
                <input-float formControlName="bestBid" class="form-control" [step]="1000000" [min]="0"
                  [placeholder]="'0.00'">
                </input-float>
              </div>
              <div class="form-group col-md-6">
                <label>Giá hợp đồng</label>
                <input-float formControlName="contractPrice" class="form-control" [step]="1000000" [min]="0"
                  [placeholder]="'0.00'">
                </input-float>
              </div>
            </div>

            <div class="row">
              <div class="form-group col-md-6">
                <label>Phương thức đấu thầu</label>
                <input-select class="form-control" formControlName="bidModelId" [items]="listBiddingModel"
                  [placeholder]="'Lựa chọn'">
                </input-select>
              </div>
              <div class="form-group col-md-6">
                <label>Lĩnh vực đấu thầu</label>
                <input-select class="form-control" formControlName="bidId" [items]="listBidding"
                  [placeholder]="'Lựa chọn'">
                </input-select>
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-6">
                <label>Người phụ trách</label>
                <input-select [items]="listEmployee" class="form-control" placeholder="Lựa chọn"
                  formControlName="empId">
                </input-select>
              </div>
              <div class="form-group col-md-6">
                <label>Hình thức lựa chọn</label>
                <input-select class="form-control" formControlName="contractorId" [items]="listContractor"
                  [placeholder]="'Lựa chọn'">
                </input-select>
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-12">
                <label>Người liên quan</label>
                <input-select-multiple [items]="listEmployee" formControlName="listEmpId" placeholder="Lựa chọn">
                </input-select-multiple>
              </div>
            </div>
          </fieldset>

          <fieldset>
            <legend class="font-weight-semibold text-uppercase font-size-sm"> Đối tác
            </legend>
            <div class="row ">
              <div class="form-group col-md-12">
                <label>Đối tác</label>
                <input-select (onChange)="updateValue()" class="form-control" formControlName="partId"
                  [items]="listPartners" [placeholder]="'Lựa chọn'">
                </input-select>
              </div>
            </div>
            <div class="row ">
              <div class="form-group col-md-6">
                <label>Liên hệ</label>
                <input-text class="form-control" placeholder="Liên hệ" formControlName="contact">
                </input-text>
              </div>
              <div class="form-group col-md-6">
                <label>Email</label>
                <input-text class="form-control" placeholder="Email" formControlName="email">
                </input-text>
              </div>
            </div>
            <div class="row ">
              <div class="form-group col-md-6">
                <label>Điện thoại</label>
                <input-text class="form-control" placeholder="Điện thoại" formControlName="phone">
                </input-text>
              </div>
              <div class="form-group col-md-6">
                <label>Fax</label>
                <input-text class="form-control" placeholder="Fax" formControlName="fax">
                </input-text>
              </div>
            </div>
          </fieldset>

          <fieldset>
            <legend class="font-weight-semibold text-uppercase font-size-sm"> Mở rộng</legend>
            <div class="row">
              <div class="form-group col-md-4">
                <label>Thứ tự</label>
                <input-number class="form-control" placeholder="1" formControlName="index" min="1">
                </input-number>
                <render-error [data]="myForm.get('index')"></render-error>
              </div>
              <div class="form-group col-md-4" *ngIf="!isView">
                <label>Hiển thị</label>
                <input-switch class="control-content" formControlName="allowDisplay"></input-switch>
              </div>
            </div>
            <div class="row ">
              <div class="form-group col-md-12">
                <label>Ghi chú</label>
                <input-textarea class="form-control" rows="5" formControlName="note"></input-textarea>
              </div>
            </div>
          </fieldset>

          <div class="text-right mt-4">
            <button class="btn btn-primary mr-3" [disabled]="isLoading" (click)="submit(true)" [hidden]="isView">
              <i nz-icon="" nztype="close-circle" class="anticon anticon-close-circle mr-1"
                ng-reflect-nz-type="close-circle"></i>
              {{isLoading ? 'Đang tải...':'Lưu đóng'}} </button>
            <button class="btn btn-primary" [disabled]="isLoading" (click)="submit(false)" [hidden]="isView"><i
                class="anticon mr-1 anticon-plus-circle" nz-icon="" nztheme="outline" nztype="plus-circle"
                ng-reflect-nz-type="plus-circle" ng-reflect-nz-theme="outline"></i>
              {{isLoading ? 'Đang tải...':'Lưu'}}</button>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="tab-pane fade mt-2" [ngClass]="{'active show': openTab === 2}">
    <app-project-document [packageBidId]="id" [projGeneralId]="projGeneralId" [isView]="isView"></app-project-document>
  </div>
</div>
