<section>
  <div class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="text-center d-lg-none w-100">
      <button class="navbar-toggler dropdown-toggle" data-target="#navbar-second" data-toggle="collapse" type="button">
        <i class="icon-menu7 mr-2"></i> </button>
    </div>
    <div class="navbar-collapse collapse p-0" id="navbar-second">
      <ul class="nav navbar-nav">
        <li class="nav-item">
          <a class="navbar-nav-link" href="javascript:;" [ngClass]="{'active show': openTab === 1}"
            (click)="openTab = 1">
            <i class="icon-magazine mr-2"></i> Cơ bản </a>
        </li>
        <li class="nav-item">
          <a class="navbar-nav-link" href="javascript:;" [ngClass]="{'active show': openTab === 2}"
            (click)="openTab = 2">
            <i class="icon-certificate mr-2"></i>Mở rộng </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="tab-content w-100 overflow-auto">
    <div class="tab-pane fade mt-2" [ngClass]="{'active show': openTab === 1}">
      <form class="form-horizontal" [formGroup]="myForm" novalidate>
        <div class="card">
          <div class="card-body">

            <div class="accordion" id="myAccordion">
              <div id="headingOne">
                <legend class="font-weight-semibold text-uppercase font-size-sm d-flex justify-content-between"
                  data-toggle="collapse" data-target="#collapseOne">
                  <span>Cơ bản</span>
                  <i class="anticon ant-collapse-arrow ng-tns-c27-11 anticon-right ng-star-inserted" nz-icon=""
                    ng-reflect-nz-rotate="0" ng-reflect-nz-type="right"></i>
                </legend>

              </div>
              <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#myAccordion">
                <div class="row" formGroupName="data">
                  <div class="form-group col-md-6">
                    <label>Ngày vào sổ <span class="text-danger">*</span> </label>
                    <input-date class="form-control" placeholder="dd/mm/yyyy" formControlName="datePosted"></input-date>
                    <render-error [data]="myForm.get('data.datePosted')"></render-error>
                  </div>
                  <div class="form-group col-md-6">
                    <label>Ngày chứng từ<span class="text-danger">*</span></label>
                    <input-date class="form-control" placeholder="dd/mm/yyyy" formControlName="vouchersDate">
                    </input-date>
                    <render-error [data]="myForm.get('data.vouchersDate')"></render-error>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-md-6">
                    <label>Số chứng từ <span class="text-danger">*</span></label>
                    <input class="form-control" formControlName="vouchersNumber" placeholder="Nhập số chứng từ" [disabled]="id ? true : false"
                      id="vouchersNumber">
                    <render-error [data]="myForm.get('vouchersNumber')"></render-error>

                  </div>
                  <div class="form-group col-md-6" formGroupName="data">
                    <label>Trạng thái </label>
                    <input-select class="form-control" formControlName="status" placeholder="Lựa chọn"
                      [items]="listStatusActualCosts"></input-select>
                  </div>

                </div>
                <div class="row" formGroupName="data">
                  <div class="form-group col-md-6">
                    <label>Loại tiền</label>
                    <input-select class="form-control" [items]="listCurrency" placeholder="Lựa chọn"
                      formControlName="currency"></input-select>
                  </div>
                  <div class="form-group col-md-6">
                    <label>Tỷ giá </label>
                    <input-float class="form-control" placeholder="1.00" [step]="1" min="0"
                      formControlName="exchangeRate">
                    </input-float>
                  </div>
                </div>
                <div class="row" formGroupName="data">

                  <div class="form-group col-md-6">
                    <label>Phân loại </label>
                    <input-select class="form-control" formControlName="classification" [items]="listClassification"
                      placeholder="Lựa chọn"></input-select>
                  </div>
                  <div class="form-group col-md-6">
                    <label>Kế toán </label>
                    <input-select class="form-control" formControlName="accountant" [items]="listEmployee"
                      placeholder="Lựa chọn"></input-select>
                  </div>
                </div>

                <div class="row" formGroupName="data">
                  <div class="form-group col-md-12">
                    <label>Nội dung<span class="text-danger">*</span></label>
                    <input class="form-control" formControlName="content">
                    <render-error [data]="myForm.get('data.content')"></render-error>
                  </div>
                </div>
              </div>

              <div id="headingTwo">
                <legend
                  class="font-weight-semibold text-uppercase font-size-sm d-flex justify-content-between collapsed"
                  data-toggle="collapse" data-target="#collapseTwo"><span>Thanh toán</span>
                  <i class="anticon ant-collapse-arrow ng-tns-c27-11 anticon-right ng-star-inserted" nz-icon=""
                    ng-reflect-nz-rotate="0" ng-reflect-nz-type="right"></i>
                </legend>
              </div>
              <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#myAccordion">
                <div class="row" formGroupName="data">
                  <div class="form-group col-md-6">
                    <label>Tên dự án<span class="text-danger">*</span> </label>
                    <input-select class="form-control" placeholder="Lựa chọn" [items]="listProject"
                      (onChange)="updateProject();resertContract()" formControlName="projectId"></input-select>
                    <render-error [data]="myForm.get('data.projectId')"></render-error>
                  </div>
                  <div class="form-group col-md-6">
                    <label>Số hợp đồng </label>
                    <input-select class="form-control" placeholder="Lựa chọn" [items]="listContracts"
                      (onChange)=" updateContract()" formControlName="contractId">
                    </input-select>
                  </div>
                </div>
                <!-- <div class="row" formGroupName="data">
            
                   <div class="form-group col-md-6">
                    <label>Số khung HĐ </label>
                    <input-text class="form-control" formControlName="frameContract" placeholder="Nhập số khung HĐ">
                      <render-error [data]="myForm.get('data.frameContract')"></render-error>
                    </input-text>
                  </div> 
                </div> -->
                <div class="row">
                  <div class="form-group col-md-6" formGroupName="data">
                    <label>Gói thầu </label>
                    <input-select class="form-control" formControlName="bidId" [disabled]="true"
                      [items]="listBidPackage"></input-select>
                  </div>
                  <div class="form-group col-md-6">
                    <label>Tiến độ thực hiện </label>
                    <input-text class="form-control"
                      formControlName="statusContract" readonly="readonly"></input-text>
                  </div>
                </div>
                <div class="row" formGroupName="data">
                  <div class="form-group col-md-6">
                    <label>Thanh toán (lần) </label>
                    <input-select class="form-control" placeholder="Lựa chọn" [items]="listPaymentSchedule"
                      formControlName="payments" (onChange)="updateAmountOfMoney()">
                    </input-select>
                  </div>
                  <div class="form-group col-md-6">
                    <label>Số tiền <span class="text-danger">*</span> </label>
                    <input-number class="form-control" formControlName="amountOfMoney" placeholder="0.00"
                      (onChange)="updateAmountReceived()"></input-number>
                    <render-error [data]="myForm.get('data.amountOfMoney')"></render-error>
                  </div>
                </div>
                <div class="row" formGroupName="data">
                  <div class="form-group col-md-6">
                    <label>Nộp thuế </label>
                    <input-number class="form-control" placeholder="0.00" formControlName="taxpay"
                      (onChange)="updateAmountReceived()" [max]="myForm.get('data.amountOfMoney').value"></input-number>
                    <render-error [data]="myForm.get('data.taxpay')"></render-error>
                  </div>
                  <div class="form-group col-md-6">
                    <label>Số tiền đơn vị hưởng</label>
                    <input-number class="form-control" placeholder="0.00" formControlName="amountReceived">
                    </input-number>
                  </div>
                </div>
                <div class="row" formGroupName="data">
                  <div class="form-group col-md-6">
                    <label>Hình thức thanh toán </label>
                    <input-select class="form-control" placeholder="Lựa chọn" [items]="listPayment"
                      formControlName="paymentType">
                    </input-select>
                  </div>
                  <div class="form-group col-md-6">
                    <label>Khoản mục chi phí<span class="text-danger">*</span> </label>
                    <input-select class="form-control" placeholder="Lựa chọn" [items]="listExpItem"
                      formControlName="expItenId"></input-select>
                      <render-error [data]="myForm.get('data.expItenId')"></render-error>
                  </div>
                </div>
              </div>

              <div id="headingThree">
                <legend
                  class="font-weight-semibold text-uppercase font-size-sm d-flex justify-content-between collapsed"
                  data-toggle="collapse" data-target="#collapseThree"><span>Đối tác </span>
                  <i class="anticon ant-collapse-arrow ng-tns-c27-11 anticon-right ng-star-inserted" nz-icon=""
                    ng-reflect-nz-rotate="0" ng-reflect-nz-type="right"></i>

                </legend>
              </div>
              <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#myAccordion">
                <div class="row">
                  <div class="form-group col-md-6" formGroupName="data">
                    <label>Tên đối tác</label>
                    <input-select class="form-control" placeholder="Lựa chọn" [items]="listPartners"
                      formControlName="partId" (onChange)="updatePartner()">
                    </input-select>
                  </div>
                  <div class="form-group col-md-6" formGroupName="partner">
                    <label>Người liên hệ</label>
                    <input-text class="form-control" formControlName="contact" placeholder="Nhập người liên hệ"
                      readonly="readonly"></input-text>
                  </div>
                </div>
                <div class="row" formGroupName="partner">
                  <div class="form-group col-md-6">
                    <label>Địa chỉ</label>
                    <input-text class="form-control" placeholder="Nhập địa chỉ" formControlName="address"
                      readonly="readonly">
                    </input-text>
                  </div>
                  <div class="form-group col-md-6">
                    <label>Điện thoại</label>
                    <input-text class="form-control" placeholder="Nhập số điện thoại" formControlName="mobile"
                      readonly="readonly"></input-text>
                  </div>
                </div>
                <div class="row" formGroupName="partner">
                  <div class="form-group col-md-6">
                    <label>Email</label>
                    <input-text class="form-control" placeholder="Nhập email" formControlName="email"
                      readonly="readonly">
                    </input-text>
                  </div>
                  <div class="form-group col-md-6">
                    <label>Fax</label>
                    <input-text class="form-control" placeholder="Nhập fax" formControlName="fax" readonly="readonly">
                    </input-text>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>


        <div class="text-right mt-4">
          <button class="btn btn-primary mr-3" [disabled]="isLoading" (click)="submit()" [hidden]="isView">
            <i nz-icon="" nztype="close-circle" class="anticon anticon-close-circle mr-1"
              ng-reflect-nz-type="close-circle"></i>
            {{isLoading ? 'Đang tải...':'Lưu đóng'}} </button>
          <button class="btn btn-primary" [disabled]="isLoading" (click)="submit(false)" [hidden]="isView"><i
              class="anticon mr-1 anticon-plus-circle" nz-icon="" nztheme="outline" nztype="plus-circle"
              ng-reflect-nz-type="plus-circle" ng-reflect-nz-theme="outline"></i>
            {{isLoading ? 'Đang tải...':'Lưu thêm'}}</button>
        </div>
      </form>
    </div>
    <div class="tab-pane fade mt-2" [ngClass]="{'active show': openTab === 2}">
      <form class="form-horizontal" [formGroup]="myForm" novalidate>
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="form-group col-md-4" formGroupName="data">
                <label>Thứ tự</label>
                <input-number class="form-control" formControlName="index" placeholder="0" [min]="0" [step]="1"></input-number>
              </div>
              <div class="form-group col-md-3" formGroupName="dataDb">
                <label>Hiển thị</label>
                <span class="input-switch">
                  <input-switch class="custom-control" formControlName="status"></input-switch>
                </span>
              </div>
            </div>
            <div class="row" formGroupName="data">
              <div class="form-group col-md-12">
                <label>Ghi chú</label>
                <input-textarea class="form-control" formControlName="note"></input-textarea>
                <render-error [data]="myForm.get('data.note')"></render-error>

              </div>
            </div>
          </div>
        </div>
        <div class="text-right mt-4">
          <button class="btn btn-primary mr-3" [disabled]="isLoading" (click)="submit()" [hidden]="isView">
            <i nz-icon="" nztype="close-circle" class="anticon anticon-close-circle mr-1"
              ng-reflect-nz-type="close-circle"></i>
            {{isLoading ? 'Đang tải...':'Lưu đóng'}} </button>
          <button class="btn btn-primary" [disabled]="isLoading" (click)="submit(false)" [hidden]="isView"><i
              class="anticon mr-1 anticon-plus-circle" nz-icon="" nztheme="outline" nztype="plus-circle"
              ng-reflect-nz-type="plus-circle" ng-reflect-nz-theme="outline"></i>
            {{isLoading ? 'Đang tải...':'Lưu thêm'}}</button>
        </div>
      </form>
    </div>
    <!-- <div class="tab-pane fade mt-2" [ngClass]="{'active show': openTab === 2}">
      <div class="card">
        <div class="card-body">
        
          <fieldset>
            <nz-table #basicTable [nzData]="listLog" [nzLoading]="isLoading" [nzBordered]="true"
              [nzFrontPagination]="false" nzSize="small" [nzScroll]="{ x: true }">
              <thead>
                <tr>
                  <th colspan="2" class="text-center">Người tạo</th>
                  <th class="text-center">Ngày tạo</th>
                  <th class="text-center">Người cập nhật</th>
                  <th class="text-center">Ngày cập nhật</th>
                </tr>
              </thead>
              <tbody>
  
                <tr *ngFor="let item of listLog">
                  <td class="text-center">{{item.beginDate | date:'dd/MM/yyyy'}}</td>
                  <td class="text-center">{{item.endDate | date:'dd/MM/yyyy'}}</td>
                  <td class="text-center">{{item.beginDate | date:'dd/MM/yyyy'}}</td>
                  <td class="text-center">{{item.endDate | date:'dd/MM/yyyy'}}</td>
                </tr>
              </tbody>
            </nz-table>
  
          </fieldset>
    
        </div>
      </div>
    </div> -->

  </div>


</section>